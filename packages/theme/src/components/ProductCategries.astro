---
import { rx } from "../lib";
import { Link } from "@rxdrag/website-lib";

interface Props {
  activeSlug?: string;
}
const { activeSlug } = Astro.props;
const config = (await rx.getTheme())?.config;
const categories = await rx.getProductCategories();---

<div class="w-[260px] hidden lg:block scrolled top-24">
  <div class="rounded-lg border border-gray-200 bg-white overflow-hidden p-4">
    <h3 class="text-base font-semibold text-gray-900 mb-3">Categories</h3>
    <div class="flex flex-col gap-1">
      {
        categories?.map((category) => (
          <Link
            class={`w-full transition-all duration-150 rounded-md px-3 py-2 ${
              activeSlug === category?.slug
                ? "bg-sky-50 text-sky-600 font-medium border-l-2 border-sky-500"
                : "text-gray-700 hover:bg-gray-50 hover:text-sky-600"
            }`}
            type="product-category"
            to={category?.slug}
          >
            {category?.name}
          </Link>
        ))
      }
    </div>
    
    <div class="border-t border-gray-200 my-4"></div>
    
    <h3 class="text-base font-semibold text-gray-900 mb-3">Contact</h3>
    <div class="space-y-3 text-sm text-gray-600">
      <div class="flex items-center gap-2">
        <span class="text-gray-800 font-medium">Email:</span>
        <a href={`mailto:${config?.email}`} class="hover:text-sky-600 hover:underline">
          {config?.email}
        </a>
      </div>
      <div class="flex items-center gap-2">
        <span class="text-gray-800 font-medium">Tel:</span>
        <span>{config?.tel}</span>
      </div>
      <div class="flex items-center gap-2">
        <span class="text-gray-800 font-medium">Contact:</span>
        <span>{config?.contact}</span>
      </div>
    </div>
  </div>
</div>
