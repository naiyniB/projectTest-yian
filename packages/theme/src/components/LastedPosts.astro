---
import { rx } from "../lib";
import { Motion } from "@rxdrag/website-lib";
import PostCard from "./PostCard.astro";

interface Props {
  title?: string;
  detailTitle?: string;
  count?: number;
}
const { title = "Latest Articles", detailTitle, count = 2 } = Astro.props;
const posts = await rx.getLatestPosts(count);---

<section class="m-h-20 w-full mt-20">
  <div class="container">
    <Motion class="flex justify-center" whileInView="fade-up">
      <h2 class="block-title">{title}</h2>
    </Motion>
    <Motion
      class="mx-auto mt-16 grid grid-cols-1 md:grid-cols-2 gap-8"
      whileInView="fade-up"
    >
      {posts?.map((post) => <PostCard post={post} detailTitle={detailTitle} />)}
    </Motion>
  </div>
</section>
